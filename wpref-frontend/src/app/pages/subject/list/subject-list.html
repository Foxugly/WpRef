<div class="toolbar">
  <h2>Sujets</h2>
  <div class="actions">
    <input (ngModelChange)="q.set($event); load()" [ngModel]="q()" pInputText placeholder="Rechercherâ€¦">
    <p-button (onClick)="goNew()" icon="pi pi-plus" id="btn_add_subject" label="Nouveau" severity="primary"/>
  </div>
</div>

<p-table
  [value]="pagedSubjects"
  showGridlines
  size="small"
  stripedRows
>
  <ng-template #header>
    <tr>
      <th>Nom</th>
      <th>Description</th>
      <th style="width:60px;">Actions</th>
    </tr>
  </ng-template>
  <ng-template #body let-s>
    <tr>
      <td>{{ getName(s) }}</td>
      <td class="muted"><div [innerHTML]="getDescription(s)  | stripP"></div></td>
      <td class="row-actions">
        <p-button (click)="goEdit(s.id)" icon="pi pi-pencil" id="btn_edit_subject" severity="info" size="small"/>
        <p-button (click)="goDelete(s.id)" icon="pi pi-trash" id="btn_delete_subject" severity="danger" size="small"/>
      </td>
    </tr>
  </ng-template>
</p-table>
@if (subjects().length > rows) {
  <div class="table-paginator">
    <p-paginator
      (onPageChange)="onPageChange($event)"
      [first]="first"
      [rowsPerPageOptions]="[5, 10, 20, 50]"
      [rows]="rows"
      [totalRecords]="subjects().length"
    ></p-paginator>
  </div>
}
